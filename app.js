!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(3),e.exports=i(2)},function(e,t){function i(e){this.context=e,this._createMasterGain(),this._createStereoDelay(),this._ampAttackTime=0,this._ampReleaseTime=2.2,this._filterAttackTime=.01,this._filterReleaseTime=1,this._filterEnvMod=0,this._filterCutoff=5e3,this._filterRes=0,this.setOscWave("sawtooth")}i.prototype.playNote=function(e,t,i,n){(t*=.5)<=0?t=.01:t>.5&&(t=.5),void 0!==n&&0!==n||(n=this.context.currentTime);var a=n,o=this.context.createGain(),r=this._createLowPassFilter();o.connect(r);var s=this.context.createOscillator();s.type=this.wave,s.connect(o);var c=this._MIDIToFrequency(e);s.frequency.value=c,s.start(0),s.stop(a+this._ampAttackTime+this._ampReleaseTime),o.gain.cancelScheduledValues(a),o.gain.setValueAtTime(0,a),o.gain.linearRampToValueAtTime(t,a+this._ampAttackTime),o.gain.exponentialRampToValueAtTime(.01,a+this._ampAttackTime+this._ampReleaseTime),r.frequency.cancelScheduledValues(a),r.frequency.value=this._filterCutoff*i,r.Q.value=this._filterRes,r.frequency.setValueAtTime(this._filterCutoff*i,a),r.frequency.linearRampToValueAtTime(this._filterCutoff*i+1e4*this._filterEnvMod,a+this._filterAttackTime),r.frequency.linearRampToValueAtTime(this._filterCutoff*i,a+this._filterAttackTime+this._filterReleaseTime)},i.prototype.setOscWave=function(e){var t;switch(e){case 0:t="sine";break;case 1:t="square";break;case 2:t="sawtooth";break;case 3:t="triangle";break;default:t="sawtooth"}this.wave=t},i.prototype.setMasterGain=function(e){this._gainNode.gain.value=.8*e},i.prototype.setAmpAttackTime=function(e){this._ampAttackTime=5*e},i.prototype.setAmpReleaseTime=function(e){this._ampReleaseTime=5*e},i.prototype.setFilterAttackTime=function(e){this._filterAttackTime=5*e},i.prototype.setFilterReleaseTime=function(e){this._filterReleaseTime=5*e},i.prototype.setFilterCutoff=function(e){this._filterCutoff=1e4*e},i.prototype.setFilterResonance=function(e){this._filterRes=2*e},i.prototype.setFilterEnvMod=function(e){this._filterEnvMod=10*e},i.prototype.setDelayTimeTempo=function(e,t){this.setDelayTime(60/e*t)},i.prototype.setDelayTime=function(e){this._leftDelay.delayTime.value=e,this._rightDelay.delayTime.value=2*e},i.prototype.setDelayFeedback=function(e){this._leftFeedback.gain.value=e,this._rightFeedback.gain.value=e},i.prototype._createMasterGain=function(){this._gainNode=this.context.createGain(),this._gainNode.connect(this.context.destination),this.setMasterGain(.5)},i.prototype._createLowPassFilter=function(){var e=this.context.createBiquadFilter();return e.type="lowpass",e.frequency.value=this._filterCutoff,e.Q.value=.99,e.connect(this._leftDelay),e.connect(this._rightDelay),e.connect(this._gainNode),e},i.prototype._createStereoDelay=function(){this._merger=this.context.createChannelMerger(2),this._merger.connect(this.context.destination),this._leftDelay=this.context.createDelay(),this._rightDelay=this.context.createDelay(),this._leftFeedback=this.context.createGain(),this._rightFeedback=this.context.createGain(),this._leftDelay.connect(this._leftFeedback),this._leftFeedback.connect(this._rightDelay),this._rightDelay.connect(this._rightFeedback),this._rightFeedback.connect(this._leftDelay),this._leftFeedback.connect(this._merger,0,0),this._rightFeedback.connect(this._merger,0,1),this.setDelayTime(.25),this.setDelayFeedback(0)},i.prototype.noteToMIDI=function(e,t){"DB"===(e=e.toUpperCase())?e="C#":"EB"===e?e="D#":"GB"===e?e="F#":"AB"===e?e="G#":"BB"===e&&(e="A#");return noteNumber=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"].indexOf(e)+12*t+21},i.prototype._MIDIToFrequency=function(e){return 440*Math.pow(2,(e-69)/12)},e.exports=i},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=new(i(1))(new(window.AudioContext||window.webkitAudioContext));n.setOscWave(0),n.setOscWave(1),n.setOscWave(2),n.setOscWave(3);var a=()=>{document.querySelector(".js-game-top").addEventListener("click",e=>{const t=e.target.closest('[data-id="tg1-btn"]');t&&t.classList.toggle("active")}),document.querySelector(".js-game-medium").addEventListener("click",e=>{const t=e.target.closest('[data-id="g3-btn"]');t&&n.playNote(n.noteToMIDI(t.dataset.note||"C",4),1,1,0)})};document.addEventListener("DOMContentLoaded",()=>{a()})}]);
//# sourceMappingURL=app.js.map