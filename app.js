!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e(3),t.exports=e(2)},function(t,n){var e,r,a;!function(){var t=window.URL||window.webkitURL,n=window.Blob;if(!t||!n)throw new Error("This browser does not support AudioSynth");var i=!1,u=null,s=function(t,n){return[new Uint8Array([n,n>>8]),new Uint8Array([n,n>>8,n>>16,n>>24])][t]},h=function(t,n,e,r){Object.defineProperty(this,t,{value:n,writable:!!e,enumerable:!!r})},l=function(t,n,e){h.call(this,t,n,e,!0)},c=h.bind((a=function(){this.__init__.apply(this,arguments)}).prototype),d=l.bind(a.prototype);c("__init__",(function(t,n,e){if(!i)throw new Error("AudioSynthInstrument can only be instantiated from the createInstrument method of the AudioSynth object.");h.call(this,"_parent",t),l.call(this,"name",n),h.call(this,"_soundID",e)})),d("play",(function(t,n,e){return this._parent.play(this._soundID,t,n,e)})),d("generate",(function(t,n,e){return this._parent.generate(this._soundID,t,n,e)})),c=h.bind((r=function t(){return u instanceof t?u:(this.__init__(),this)}).prototype),d=l.bind(r.prototype),c("_debug",!1,!0),c("_bitsPerSample",16),c("_channels",1),c("_sampleRate",44100,!0),d("setSampleRate",(function(t){return this._sampleRate=Math.max(Math.min(0|t,44100),4e3),this._clearCache(),this._sampleRate})),d("getSampleRate",(function(){return this._sampleRate})),c("_volume",32768,!0),d("setVolume",(function(t){return t=parseFloat(t),isNaN(t)&&(t=0),t=Math.round(32768*t),this._volume=Math.max(Math.min(0|t,32768),0),this._clearCache(),this._volume})),d("getVolume",(function(){return Math.round(this._volume/32768*1e4)/1e4})),c("_notes",{C:261.63,"C#":277.18,D:293.66,"D#":311.13,E:329.63,F:349.23,"F#":369.99,G:392,"G#":415.3,A:440,"A#":466.16,B:493.88}),c("_fileCache",[],!0),c("_temp",{},!0),c("_sounds",[],!0),c("_mod",[function(t,n,e,r){return Math.sin(2*Math.PI*(t/n)*e+r)}]),c("_resizeCache",(function(){for(var t=this._fileCache,n=this._sounds.length;t.length<n;){for(var e=[],r=0;r<8;r++){var o={};for(var a in this._notes)o[a]={};e.push(o)}t.push(e)}})),c("_clearCache",(function(){this._fileCache=[],this._resizeCache()})),d("generate",(function(e,r,o,a){var i=this._sounds[e];if(!i)for(var u=0;u<this._sounds.length;u++)if(this._sounds[u].name==e){i=this._sounds[u],e=u;break}if(!i)throw new Error("Invalid sound or sound ID: "+e);var h=(new Date).valueOf();this._temp={},o|=0,o=Math.min(8,Math.max(1,o));var l=a?parseFloat(a):2;if(void 0===this._notes[r])throw new Error(r+" is not a valid note.");if(void 0!==this._fileCache[e][o-1][r][l])return this._debug&&console.log((new Date).valueOf()-h,"ms to retrieve (cached)"),this._fileCache[e][o-1][r][l];var c=this._notes[r]*Math.pow(2,o-4),f=this._sampleRate,d=this._volume,p=this._channels,_=this._bitsPerSample,m=i.attack(f,c,d),v=i.dampen(f,c,d),M=i.wave,w={modulate:this._mod,vars:this._temp},b=0,g=new Uint8Array(new ArrayBuffer(Math.ceil(f*l*2))),y=f*m|0,I=f*l|0;for(u=0;u!==y;u++)b=d*(u/(f*m))*M.call(w,u,f,c,d),g[u<<1]=b,g[1+(u<<1)]=b>>8;for(;u!==I;u++)b=d*Math.pow(1-(u-f*m)/(f*(l-m)),v)*M.call(w,u,f,c,d),g[u<<1]=b,g[1+(u<<1)]=b>>8;var P=["RIFF",s(1,52),"WAVE","fmt ",s(1,16),s(0,1),s(0,p),s(1,f),s(1,f*p*_/8),s(0,p*_/8),s(0,_),"data",s(1,g.length*p*_/8),g],C=new n(P,{type:"audio/wav"}),S=t.createObjectURL(C);return this._fileCache[e][o-1][r][l]=S,this._debug&&console.log((new Date).valueOf()-h,"ms to generate"),S})),d("play",(function(t,n,e,r){var o=this.generate(t,n,e,r);return new Audio(o).play(),!0})),d("debug",(function(){this._debug=!0})),d("createInstrument",(function(t){var n=0,e=!1;if("string"==typeof t){for(var r=0;r<this._sounds.length;r++)if(this._sounds[r].name==t){e=!0,n=r;break}}else this._sounds[t]&&(n=t,t=this._sounds[n].name,e=!0);if(!e)throw new Error("Invalid sound or sound ID: "+t);i=!0;var o=new a(this,t,n);return i=!1,o})),d("listSounds",(function(){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n].name);return t})),c("__init__",(function(){this._resizeCache()})),d("loadSoundProfile",(function(){for(var t=0,n=arguments.length;t<n;t++){if(o=arguments[t],!(o instanceof Object))throw new Error("Invalid sound profile.");this._sounds.push(o)}return this._resizeCache(),!0})),d("loadModulationFunction",(function(){for(var t=0,n=arguments.length;t<n;t++){if(f=arguments[t],"function"!=typeof f)throw new Error("Invalid modulation function.");this._mod.push(f)}return!0})),u=new r,e=u}(),e.loadModulationFunction((function(t,n,e,r){return 1*Math.sin(2*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return 1*Math.sin(4*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return 1*Math.sin(8*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return 1*Math.sin(.5*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return 1*Math.sin(.25*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return.5*Math.sin(2*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return.5*Math.sin(4*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return.5*Math.sin(8*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return.5*Math.sin(.5*Math.PI*(t/n*e)+r)}),(function(t,n,e,r){return.5*Math.sin(.25*Math.PI*(t/n*e)+r)})),e.loadSoundProfile({name:"piano",attack:function(){return.002},dampen:function(t,n,e){return Math.pow(.5*Math.log(n*e/t),2)},wave:function(t,n,e,r){var o=this.modulate[0];return this.modulate[1](t,n,e,Math.pow(o(t,n,e,0),2)+.75*o(t,n,e,.25)+.1*o(t,n,e,.5))}},{name:"organ",attack:function(){return.3},dampen:function(t,n){return 1+.01*n},wave:function(t,n,e){var r=this.modulate[0];return this.modulate[1](t,n,e,r(t,n,e,0)+.5*r(t,n,e,.25)+.25*r(t,n,e,.5))}},{name:"acoustic",attack:function(){return.002},dampen:function(){return 1},wave:function(t,n,e){var r=this.vars;r.valueTable=r.valueTable?r.valueTable:[],void 0===r.playVal&&(r.playVal=0),void 0===r.periodCount&&(r.periodCount=0);var o=r.valueTable,a=r.playVal,i=r.periodCount,u=n/e,s=Math.floor(100*(u-Math.floor(u))),h=!1;if(o.length<=Math.ceil(u))return o.push(2*Math.round(Math.random())-1),o[o.length-1];o[a]=.5*(o[a>=o.length-1?0:a+1]+o[a]),a>=Math.floor(u)&&(a<Math.ceil(u)?i%100>=s&&(h=!0,o[a+1]=.5*(o[0]+o[a+1]),r.periodCount++):h=!0);var l=o[a];return h?r.playVal=0:r.playVal++,l}},{name:"edm",attack:function(){return.002},dampen:function(){return 1},wave:function(t,n,e){var r=this.modulate[0],o=this.modulate.slice(1);return o[0](t,n,e,o[9](t,n,e,o[2](t,n,e,Math.pow(r(t,n,e,0),3)+Math.pow(r(t,n,e,.5),5)+Math.pow(r(t,n,e,1),7)))+o[8](t,n,e,r(t,n,e,1.75)))}})},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var r=()=>{document.querySelector(".js-game-top").addEventListener("click",t=>{const n=t.target.closest('[data-id="tg1-btn"]');n&&n.classList.toggle("active")})};e(1);document.addEventListener("DOMContentLoaded",()=>{r()})}]);
//# sourceMappingURL=app.js.map